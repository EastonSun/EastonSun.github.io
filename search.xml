<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo搜索引擎优化</title>
    <url>/Hexo%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96.html</url>
    <content><![CDATA[<p>博客上线也有一个月了，查了一下Google和Bing两大搜索引擎，只有Google有收录Bing没有任何一条收录，于是对搜索引擎进行一下优化。</p>
<span id="more"></span>
<h2 id="安装插件和配置"><a href="#安装插件和配置" class="headerlink" title="安装插件和配置"></a>安装<mark class="label ">hexo-generator-sitemap</mark>插件和配置<mark class="label info">_config.yml</mark></h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-sitemap <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
<h3 id="修改文件"><a href="#修改文件" class="headerlink" title="修改文件"></a>修改<mark class="label info">_config.yml</mark>文件</h3><p>打开<mark class="label ">根目录</mark>的<mark class="label info">_config.yml</mark>文件，加入以下代码：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># common sitemap for all the search engines</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>将<font style="background:black">permalink:</font>修改为<font style="background:blue">:title.html</font>，将<font style="background:black">trailing_index:</font>修改为<font style="background:blue">false</font></p>
<h2 id="向Google提交站点地图"><a href="#向Google提交站点地图" class="headerlink" title="向Google提交站点地图"></a>向Google提交站点地图</h2><p>打开<span class="exturl" data-url="aHR0cHM6Ly9zZWFyY2guZ29vZ2xlLmNvbS9zZWFyY2gtY29uc29sZS8=">Google Search Console<i class="fa fa-external-link-alt"></i></span>，箭头处填入域名<br><img data-src="/Hexo%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/sitename.png" alt="填入域名"><br>选择<mark class="label ">HTML标记认证</mark>，将会得到<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">&lt;meta name<span class="operator">=</span><span class="string">&quot;google-site-verification&quot;</span> content<span class="operator">=</span><span class="string">&quot;XXXXXXXXXXXXXXXXXXXXXXX&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>复制<font style="background:black">XXXXXXXXXXXXXXXXXXXXXXX</font>的值，将其粘贴到<mark class="label ">_config.next.yml</mark>的<mark class="label info">google_site_verification:</mark><br>运行<figure class="highlight sas"><table><tr><td class="code"><pre><span class="line">hexo clean <span class="variable">&amp;&amp;</span> hexo g <span class="variable">&amp;&amp;</span> hexo d</span><br></pre></td></tr></table></figure>后点击验证<br><img data-src="/Hexo%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/verify.png" alt="验证"><br>在弹出的对话框中点击<mark class="label info">前往资源页面</mark><br><img data-src="/Hexo%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/verify_ok.png" alt="验证完成"><br>点击左侧的<mark class="label ">站点地图</mark>，在添加新的站点地图处填入<mark class="label info">sitemap.xml</mark><br><img data-src="/Hexo%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/sitemap.png" alt="sitemap"></p>
<h2 id="向Bing提交站点地图"><a href="#向Bing提交站点地图" class="headerlink" title="向Bing提交站点地图"></a>向Bing提交站点地图</h2><p>打开<span class="exturl" data-url="aHR0cHM6Ly93d3cuYmluZy5jb20vd2VibWFzdGVycw==">Bing Webmasters<i class="fa fa-external-link-alt"></i></span>登录后选择<mark class="label success">从GSC导入你的网站</mark><br><img data-src="/Hexo%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/bing.png" alt="bing"></p>
<h2 id="使用IndexNow快速提交至Bing"><a href="#使用IndexNow快速提交至Bing" class="headerlink" title="使用IndexNow快速提交至Bing"></a>使用IndexNow快速提交至Bing</h2><h3 id="安装hexo-indexnow插件"><a href="#安装hexo-indexnow插件" class="headerlink" title="安装hexo-indexnow插件"></a>安装hexo-indexnow插件</h3><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npm install hexo-indexnow <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
<h3 id="获取API-Key"><a href="#获取API-Key" class="headerlink" title="获取API Key"></a>获取API Key</h3><p>打开<span class="exturl" data-url="aHR0cHM6Ly93d3cuYmluZy5jb20vaW5kZXhub3cvZ2V0c3RhcnRlZA==">Bing IndexNow<i class="fa fa-external-link-alt"></i></span>，找到API Key点击下载箭头将文件下载到<mark class="label info">/source</mark>目录并复制API Key<br><img data-src="/Hexo%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/indexnow.png" alt="indexnow"></p>
<h3 id="配置Hexo"><a href="#配置Hexo" class="headerlink" title="配置Hexo"></a>配置Hexo</h3><p>将以下代码复制到根目录的<mark class="label ">_config.yml</mark></p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">hexo_indexnow:</span></span><br><span class="line"><span class="symbol">  count:</span> latest <span class="meta"># 数字或者 <span class="string">&quot;latest&quot;</span>(=1)</span></span><br><span class="line"><span class="symbol">  txt_name:</span> indexnow.txt <span class="meta"># 链接文件名</span></span><br><span class="line"><span class="symbol">  apikey:</span> xxxxxx <span class="meta"># 你的 apikey</span></span><br><span class="line"><span class="symbol">  server:</span> bing <span class="meta"># indexnow 服务器，可选值有:bing、yandex、indexnow</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">deploy:</span></span><br><span class="line">  - type: indexnow_url_submitter</span><br></pre></td></tr></table></figure>
<h2 id="设置robots"><a href="#设置robots" class="headerlink" title="设置robots"></a>设置robots</h2><p>在<mark class="label info">/source</mark>目录下新建<mark class="label danger">robots.txt</mark>文件，将下列代码复制到文件中</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line"><span class="symbol">Allow:</span> /</span><br><span class="line"><span class="symbol">Allow:</span> <span class="keyword">/archives/</span></span><br><span class="line"><span class="symbol">Allow:</span> <span class="keyword">/categories/</span></span><br><span class="line"><span class="symbol">Allow:</span> <span class="keyword">/tags/</span></span><br><span class="line"><span class="symbol">Allow:</span> <span class="keyword">/about/</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="keyword">/vendors/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="keyword">/js/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="keyword">/css/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="keyword">/fonts/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="keyword">/fancybox/</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">Sitemap:</span> https:<span class="comment">//www.eyunbook.com/sitemap.xml</span></span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>seo优化</tag>
        <tag>hexo-generator-sitemap</tag>
        <tag>hexo-indexnow</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo添加标签页面</title>
    <url>/Hexo%E6%B7%BB%E5%8A%A0%E6%A0%87%E7%AD%BE%E9%A1%B5%E9%9D%A2.html</url>
    <content><![CDATA[<p>Hexo允许用户添加自定义页面，最常见的就是添加“标签”页面。<span id="more"></span></p>
<h2 id="添加“标签”页面"><a href="#添加“标签”页面" class="headerlink" title="添加“标签”页面"></a>添加“标签”页面</h2><div class="tabs" id="first-tab"><ul class="nav-tabs"><li class="tab active"><a href="#first-tab-1">添加新页面</a></li><li class="tab"><a href="#first-tab-2">设置页面类型</a></li><li class="tab"><a href="#first-tab-3">编辑菜单</a></li></ul><div class="tab-content"><div class="tab-pane active" id="first-tab-1"><p>在 <mark class="label primary">站点根目不下</mark> 鼠标右键点击<font style="background:black">Open Git Bash here</font>，使用命令<font style="background:black">hexo n page tags</font>创建一个新的<font style="background:black">tags</font>页面：</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hexo n page tags</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="first-tab-2"><p>编辑新页面，将类型改为<font style="background:black">tags</font>：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">Tags</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2024-08-11 14:39:04</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">tags</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="first-tab-3"><p>编辑 <mark class="label primary">NexT配置文件</mark> 下的<font style="background:black">menu</font>选项，将<font style="background:black">tags</font>前的注释取消：</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">  home:</span> / || fa fa-home</span><br><span class="line"><span class="symbol">  archives:</span> <span class="keyword">/archives/</span> || fa fa-archive</span><br><span class="line"><span class="symbol">  tags:</span> <span class="keyword">/tags/</span> || fa fa-tags</span><br></pre></td></tr></table></figure></div></div></div>

<div class="note warning"><p>如果网站启用了评论系统，需要在新建的页面中禁用评论系统：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">itle:</span> <span class="string">Tags</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2024-08-11 14:39:04</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>
</div>]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>标签页面</tag>
      </tags>
  </entry>
  <entry>
    <title>Win11搭建hexo并部署到GitHub</title>
    <url>/Win11%E6%90%AD%E5%BB%BAhexo%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0GitHub.html</url>
    <content><![CDATA[<h2 id="本地安装-Win11"><a href="#本地安装-Win11" class="headerlink" title="本地安装(Win11)"></a>本地安装(Win11)</h2><h3 id="安装前提"><a href="#安装前提" class="headerlink" title="安装前提"></a>安装前提</h3><p>在安装Hexo前，需要先安装以下程序</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnLw==">Node.js<i class="fa fa-external-link-alt"></i></span>(Node.js版本需不低于10.13，建议使用Node.js 12.0及以上版本)</li>
<li><span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS8=">Git<i class="fa fa-external-link-alt"></i></span><span id="more"></span>
<strong>设置npm代理</strong><br>编辑”C:\Users\user\.npmrc”文件，添加以下内容：<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">https-proxy</span>=http://proxy-server-address:port</span><br><span class="line"><span class="attr">proxy</span>=http://proxy-server-address:port</span><br></pre></td></tr></table></figure>
<strong>查看当前代理</strong><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">npm<span class="built_in"> config </span><span class="built_in">get</span> proxy</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><p>在电脑上新建一个文件夹，例如E:\hexo。进入该文夹在空白处点鼠标右键，选择Open Git Bash here，输入如下命令：</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure>
<p>install -g命令是使用npm包管理工具进行全局安装，hexo-cli为hexo的客户端模块。<br>安装完成后，执行以下命令，Hexo会在指定文件夹中新建所需要的文件。</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">hexo init <span class="keyword">blog</span></span><br><span class="line"><span class="keyword"></span>cd <span class="keyword">blog</span></span><br><span class="line"><span class="keyword"></span>npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure>
<ul>
<li>node-modules  依赖包</li>
<li>public    存放生成的页面</li>
<li>_config.yml   网站的配置文件</li>
<li>package.json  应用程序信息</li>
<li>scaffolds     模板文件夹</li>
<li>source    资源文件夹</li>
<li>thems     主题文件夹</li>
</ul>
<h3 id="修改hexo配置文件"><a href="#修改hexo配置文件" class="headerlink" title="修改hexo配置文件"></a>修改hexo配置文件</h3><p>hexo的配置文件位于站点根目录下，名字为：_config.yml，主要修改以下内容：</p>
<ul>
<li>title 网站标题</li>
<li>subtitle  网站副标题</li>
<li>description   网站描述</li>
<li>keywords  网站关键字</li>
<li>author    作者名字</li>
<li>language  网站使用的语言，一般改为zh-CN</li>
<li>timezone  网站时区，一般改为Asia&#x2F;Shanghai</li>
<li>url   网站网址</li>
<li>theme 主题名称，比如next</li>
<li>post_asset_folder 设为true后，执行命令$hexo new post_name会在source&#x2F;_posts中生成和文章同名的文件夹，可以把图片等放到此文件夹中</li>
<li>在post_asset_folder下面添加如下配置</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">marked:</span></span><br><span class="line">  <span class="attr">prependRoot:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">postAsset:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>这时<font color=red>![](image.png)</font>会被自动解析</p>
<p>其它的配置修改可参考<span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3MvY29uZmlndXJhdGlvbg==">官网<i class="fa fa-external-link-alt"></i></span></p>
<h2 id="上传至GitHub"><a href="#上传至GitHub" class="headerlink" title="上传至GitHub"></a>上传至GitHub</h2><h3 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a>新建仓库</h3><p>在GitHub个人主页新建一仓库，名称的前半部分为GitHub的用户名，后半部分为github.io<br>在git bash中输入以下命令：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">git config <span class="attr">--global</span> user<span class="selector-class">.name</span> <span class="string">&quot;yourname&quot;</span></span><br><span class="line">git config <span class="attr">--global</span> user<span class="selector-class">.email</span> <span class="string">&quot;youremail&quot;</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;youremail&quot;</span></span><br></pre></td></tr></table></figure>
<p>yourname,youremail分别为GitHub的用户名和注册邮箱<br>点击头像选择Settings，点击左侧栏里的SSH and GPG keys，打开C:\Users\user.ssh目录下的id_rsa.pub文件，把内容复制到SSH keys中</p>
<h3 id="部署到GitHub"><a href="#部署到GitHub" class="headerlink" title="部署到GitHub"></a>部署到GitHub</h3><p>打开blog目录下的_config.yml文件，找到文件末尾的Deployment添加以下内容：</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">    type:</span> git</span><br><span class="line"><span class="symbol">    repo:</span> https:<span class="comment">//github.com/username/username.github.io.git</span></span><br><span class="line"><span class="symbol">    branch:</span> main</span><br></pre></td></tr></table></figure>
<p>在git bash中输入以下命令安装git部署工具：</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
<h2 id="主题与插件"><a href="#主题与插件" class="headerlink" title="主题与插件"></a>主题与插件</h2><p><span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3RoZW1lcy8=">官网<i class="fa fa-external-link-alt"></i></span>有很多的主题，<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL25leHQtdGhlbWUvaGV4by10aGVtZS1uZXh0">Next<i class="fa fa-external-link-alt"></i></span>一款很受欢迎的主题。</p>
<h3 id="Next安装"><a href="#Next安装" class="headerlink" title="Next安装"></a>Next安装</h3><p>在blog目录下运行如下命令；</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">npm install hexo-theme-<span class="keyword">next</span><span class="symbol">@latest</span></span><br></pre></td></tr></table></figure>
<p>新建一个名为：_config.next.yml的空文件并运行如下命令：</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cp</span> node_modules/hexo-theme-<span class="keyword">next</span>/_config.yml _config.<span class="keyword">next</span>.yml</span><br></pre></td></tr></table></figure>
<p>修改_config.yml将theme: landscape改为theme: next</p>
<h3 id="修改主题配置文件-config-next-yml"><a href="#修改主题配置文件-config-next-yml" class="headerlink" title="修改主题配置文件(_config.next.yml)"></a>修改主题配置文件(_config.next.yml)</h3><ul>
<li>Schemes   主题样式根据个人喜好选择，我个人喜欢Gemini</li>
<li>Dark Mode     黑暗模式</li>
<li>favicon   站点图标，使用自己的图标替换\hexo\blog\node_modules\hexo-theme-next\source\images下的文件</li>
<li>menu  菜单栏，取消要启用的相关菜单注释即可，需要注意的是除home和archives外其它的页面都需手动创建</li>
<li>sidebar   侧边栏，将display改为always</li>
<li>avatar    头像，rounded设置为true头像为圆形，rotated设置为true，鼠标悬停头像会旋转</li>
<li>excerpt-description   设为false使用&lt;!-- more –&gt;来分隔文章</li>
<li>Post wordcount display setting：文章字数统计，要启用此插件必须先安装<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">npm install hexo-<span class="built_in">word</span>-counter</span><br></pre></td></tr></table></figure></li>
<li>codeblock：代码高亮，个人比较喜欢a11y-dark，更多的高亮主题请<span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9oaWdobGlnaHQv">参考<i class="fa fa-external-link-alt"></i></span></li>
</ul>
<div class="note info"><p>如果使用不蒜子计数统计，可修改\node_modules\hexo-theme-next\layout_third-party\statistics目录下的busuanzi-counter.njk文件，将</p>
<figure class="highlight handlebars"><table><tr><td class="code"><pre><span class="line"><span class="language-xml">&lt;script</span><span class="template-variable">&#123;&#123; <span class="name">pjax</span> &#125;&#125;</span><span class="language-xml"> async src=&quot;https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>修改为</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://vercount.one/js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<p>其它的配置修改可参考<span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9kb2NzLw==">官网文档<i class="fa fa-external-link-alt"></i></span>根据个人需要进行修改</p>
]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo 启用Vercel的Web Analytics</title>
    <url>/hexo-%E5%90%AF%E7%94%A8Vercel%E7%9A%84Web-Analytics.html</url>
    <content><![CDATA[<p>前面一篇文章介绍过把博客部署到<mark class="label info">Vercel</mark></p>
<div class="link-grid"><div class="link-grid-container">
<object class="link-grid-image" data="/images/logo.png"></object>
<p>优化 Github Pages 国内的访问速度</p><p><mark class="label ">E云笔记</mark> 我的学习笔记</p>
<a href="https://www.eyunbook.com/优化Github-Pages国内的访问速度.html"></a>
</div></div>
<mark class="label info">Vercle</mark>还提供了<mark class="label primary">Web Analytics</mark>功能
<span id="more"></span>
<h2 id="开启Web-Analytics"><a href="#开启Web-Analytics" class="headerlink" title="开启Web Analytics"></a>开启Web Analytics</h2><p>在<mark class="label info">Vercel</mark>仪表盘点点击进入已部署好的博客项目，点击上方导航栏的<mark class="label ">Analytics</mark>在新的页面中点击<mark class="label ">Web Analytics</mark>下方的<mark class="label success">Enable</mark>，在弹出的页面中选择免费计划并点击<mark class="label success">Enable</mark><br><img data-src="/hexo-%E5%90%AF%E7%94%A8Vercel%E7%9A%84Web-Analytics/analytics.png" alt="analytics"><br><img data-src="/hexo-%E5%90%AF%E7%94%A8Vercel%E7%9A%84Web-Analytics/enable.png" alt="enable"></p>
<h2 id="将script添加到Hexo"><a href="#将script添加到Hexo" class="headerlink" title="将script添加到Hexo"></a>将script添加到Hexo</h2><p>在<mark class="label info">\blog\node_modules\hexo-theme-next\scripts\filters</mark>目录下新建<mark class="label ">vercel_analytics.js</mark>文件并复制以下代码到文件中保存</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">hexo.extend.<span class="built_in">filter</span>.register(<span class="string">&#x27;theme_inject&#x27;</span>, <span class="keyword">function</span>(<span class="params">injects</span>) &#123;</span><br><span class="line">    injects.bodyEnd.raw(<span class="string">&#x27;vercel-analytics-js&#x27;</span>, <span class="string">&#x27;&lt;script defer src=&quot;/_vercel/insights/script.js&quot;&gt;&lt;/script&gt;&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>: <span class="literal">true</span>&#125;);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>重新部署后稍等一会就能看到Web Analytics数据</p>
<div class="note warning"><p>此方法只适用于Next主题，其它主题请自行搜索</p>
</div>]]></content>
      <tags>
        <tag>vercel</tag>
        <tag>web analytics</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu切换到root用户及用root用户登录</title>
    <url>/ubuntu%E5%88%87%E6%8D%A2%E5%88%B0root%E7%94%A8%E6%88%B7%E5%8F%8A%E7%94%A8root%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95.html</url>
    <content><![CDATA[<p>当用安装时的用户名和密码登录到Ubuntu系统，如果想切换到root用户系统会提示：<mark class="label warning">Authentication failure</mark>，这是因为在安装ubuntu系统时设置的用户名和密码并不是root用户的。</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">username<span class="variable">@ubuntu</span><span class="symbol">:~</span><span class="variable">$ </span>su root</span><br><span class="line"><span class="symbol">password:</span></span><br><span class="line"><span class="symbol">su:</span> <span class="title class_">Authentication</span> failure</span><br></pre></td></tr></table></figure>
<p>这时我们就需要启用root用户并设置密码。<span id="more"></span></p>
<h2 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">sudo</span> <span class="string">passwd</span> <span class="string">root</span></span><br><span class="line">[<span class="string">sudo</span>] <span class="attr">password for username:</span> <span class="comment"># 输入当前用户的密码</span></span><br><span class="line"><span class="attr">New password:</span> <span class="comment"># 输入root的密码</span></span><br><span class="line"><span class="attr">Retype new password:</span> <span class="comment"># 再次输入root的密码</span></span><br><span class="line"><span class="attr">passwd:</span> <span class="string">password</span> <span class="string">updated</span> <span class="string">successfully</span> <span class="comment"># 密码设置成功</span></span><br></pre></td></tr></table></figure>
<h2 id="修改sshd-config文件"><a href="#修改sshd-config文件" class="headerlink" title="修改sshd_config文件"></a>修改sshd_config文件</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>
<p>将<mark class="label info">PermitRootLogin</mark>的参数设置为<mark>yes</mark></p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">PermitRootLogin</span> <span class="literal">yes</span></span><br></pre></td></tr></table></figure>
<p>保存退出后重启ssh服务</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> /etc/init.d/ssh restart</span><br></pre></td></tr></table></figure>
<div class="note info"><p>此时可以顺便把ssh端口改掉<br>将：</p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#Port 22</span></span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Port</span> <span class="comment">#新端口号</span></span><br></pre></td></tr></table></figure></div>
<h2 id="root用户和普通用户的切换"><a href="#root用户和普通用户的切换" class="headerlink" title="root用户和普通用户的切换"></a>root用户和普通用户的切换</h2><div class="tabs" id="first-tab"><ul class="nav-tabs"><li class="tab active"><a href="#first-tab-1">root切换到普通户</a></li><li class="tab"><a href="#first-tab-2">普通用户切换到root</a></li></ul><div class="tab-content"><div class="tab-pane active" id="first-tab-1"><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">su username</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="first-tab-2"><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">su root</span><br><span class="line"><span class="symbol">Password:</span> <span class="meta"># 输入root密码</span></span><br></pre></td></tr></table></figure></div></div></div>]]></content>
      <tags>
        <tag>ubuntu</tag>
        <tag>root</tag>
      </tags>
  </entry>
  <entry>
    <title>为Git Bash配置代理</title>
    <url>/%E4%B8%BAGit-Bash%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86.html</url>
    <content><![CDATA[<p>在国内访问Git的速度非常慢，将博客上传到Github时经常报错<mark class="label warning">fatal: unable to access https://github.com/EastonSun/EastonSun.github.io.git/: Failed to connect to github.com port 443 after 21174 ms: Could not connect to server</mark>，为<mark class="label info">Git Bash</mark>配置代理后错误消失。</p>
<span id="more"></span>
<h2 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h2><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">git config <span class="attr">--global</span> http<span class="selector-class">.proxy</span> http:<span class="comment">//127.0.0.1:10801</span></span><br><span class="line">git config <span class="attr">--global</span> https<span class="selector-class">.proxy</span> https:<span class="comment">//127.0.0.1:10801</span></span><br></pre></td></tr></table></figure>
<div class="note warning"><p><strong>将端口号换成自己的代理端口</strong></p>
</div>
<h2 id="取消代理"><a href="#取消代理" class="headerlink" title="取消代理"></a>取消代理</h2><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">git config <span class="attr">--global</span> <span class="attr">--unset</span> http<span class="selector-class">.proxy</span></span><br><span class="line">git config <span class="attr">--global</span> <span class="attr">--unset</span> https.proxy</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>git bash</tag>
        <tag>代理</tag>
      </tags>
  </entry>
  <entry>
    <title>优化Github Pages国内的访问速度</title>
    <url>/%E4%BC%98%E5%8C%96Github-Pages%E5%9B%BD%E5%86%85%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6.html</url>
    <content><![CDATA[<p>本博客托管在Github Pages上，简单方便快捷唯一不好的就是国内访问速度不好，甚至有时出现访问不了的情况。</p>
<div class="link-grid"><div class="link-grid-container">
<object class="link-grid-image" data="/images/logo.png"></object>
<p>Win11搭建hexo并部署到Github</p><p><mark class="label ">E云笔记</mark>  我的学习笔记</p>
<a href="https://www.eyunbook.com/Win11搭建hexo并部署到GitHub.html"></a>
</div></div>
<p>网上有众多的解决方案，能够白嫖的也就是<span class="exturl" data-url="aHR0cHM6Ly9hcHAubmV0bGlmeS5jb20v">Netlify<i class="fa fa-external-link-alt"></i></span>和<span class="exturl" data-url="aHR0cHM6Ly92ZXJjZWwuY29tLw==">Vercel<i class="fa fa-external-link-alt"></i></span>，经过对比后我最终选择了<mark class="label info">Vercel</mark></p>
<span id="more"></span>
<p>从同一时间测速的情况来看<mark class="label info">Vercel</mark>是最理想的</p>
<div class="tabs" id="first-tab"><ul class="nav-tabs"><li class="tab active"><a href="#first-tab-1">Github</a></li><li class="tab"><a href="#first-tab-2">netlify</a></li><li class="tab"><a href="#first-tab-3">vercel</a></li></ul><div class="tab-content"><div class="tab-pane active" id="first-tab-1"><img data-src="/%E4%BC%98%E5%8C%96Github-Pages%E5%9B%BD%E5%86%85%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/github.png" class=""></div><div class="tab-pane" id="first-tab-2"><img data-src="/%E4%BC%98%E5%8C%96Github-Pages%E5%9B%BD%E5%86%85%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/netlify.png" class=""></div><div class="tab-pane" id="first-tab-3"><img data-src="/%E4%BC%98%E5%8C%96Github-Pages%E5%9B%BD%E5%86%85%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/vercel.png" class=""></div></div></div>

<h2 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h2><p><span class="exturl" data-url="aHR0cHM6Ly92ZXJjZWwuY29tLw==">Vercel<i class="fa fa-external-link-alt"></i></span>和<span class="exturl" data-url="aHR0cHM6Ly9hcHAubmV0bGlmeS5jb20v">Netlify<i class="fa fa-external-link-alt"></i></span>的注册都非常简单，使用Github帐号即可注册与登录。<br><img data-src="/%E4%BC%98%E5%8C%96Github-Pages%E5%9B%BD%E5%86%85%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/vercel_reg.png" alt="vercel注册"></p>
<h2 id="导入项目"><a href="#导入项目" class="headerlink" title="导入项目"></a>导入项目</h2><p>点击右上角的Add New选择Project<br><img data-src="/%E4%BC%98%E5%8C%96Github-Pages%E5%9B%BD%E5%86%85%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/project.png" alt="project"><br>找到需要导入的项目并点击Import就可完成项目的导入</p>
<h2 id="使用自定义域名访问"><a href="#使用自定义域名访问" class="headerlink" title="使用自定义域名访问"></a>使用自定义域名访问</h2><p>整个导入的过程很快，导入完成后进入到刚导入的项目，点击上方的Settings再点击右边的Domains，这时就能看到一个以项目名称开头的二级域名，这个域名很长不方便记忆，这时我们可以添加一个自定义域名。</p>
<h3 id="添加域名解析"><a href="#添加域名解析" class="headerlink" title="添加域名解析"></a>添加域名解析</h3><p>先在域名解析商处添加一个CNAME记录。</p>
<div class="note danger"><p>添加解析记录时，目标处要填入<strong>name-china.vercel-dns.com</strong>，这是官方专门为中国大陆优化过的</p>
</div>
<h3 id="添加自定义域名"><a href="#添加自定义域名" class="headerlink" title="添加自定义域名"></a>添加自定义域名</h3><p><img data-src="/%E4%BC%98%E5%8C%96Github-Pages%E5%9B%BD%E5%86%85%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/domain.png" alt="domain"><br>在mywebsite.com处填入域名点击Add就完成了域名添加</p>
<h3 id="二级域名跳转到自定义域名"><a href="#二级域名跳转到自定义域名" class="headerlink" title="二级域名跳转到自定义域名"></a>二级域名跳转到自定义域名</h3><p>点击二级域名旁的Edit，Redirect to处填入自定义域名，Status Code处选择308 Permanent Redirect<br><img data-src="/%E4%BC%98%E5%8C%96Github-Pages%E5%9B%BD%E5%86%85%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/redirect.png" alt="redirect"></p>
]]></content>
      <tags>
        <tag>Github Pages</tag>
        <tag>优化</tag>
      </tags>
  </entry>
  <entry>
    <title>使用自定义域名访问GitHub Pages</title>
    <url>/%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AEGitHub-Pages.html</url>
    <content><![CDATA[<p>在GitHub部署了静态网站后都是使用username.github.io进行访问，如果我们有自己的域名，可以通过自己的域名进行访问。<span id="more"></span></p>
<h2 id="添加CNAME文件"><a href="#添加CNAME文件" class="headerlink" title="添加CNAME文件"></a>添加CNAME文件</h2><p>在本地的source文件下新建一个名为：CNAME的文件，内容为你的域名。<font color=red>文件名必须是大写，域名只能有一个。</font></p>
<h2 id="添加DNS解析"><a href="#添加DNS解析" class="headerlink" title="添加DNS解析"></a>添加DNS解析</h2><p>在DNS解析服务商处添加两条CNAME记录<br><img data-src="/%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AEGitHub-Pages/1.png" alt="DNS解析"><br>检查DNS记录配置是否正确</p>
<ul>
<li>IPv4</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">$ dig www<span class="selector-class">.eyunbook</span><span class="selector-class">.com</span> +noall +answer -t A</span><br><span class="line">www<span class="selector-class">.eyunbook</span><span class="selector-class">.com</span>.       <span class="number">58</span>      IN      CNAME   eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.</span><br><span class="line">eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.    <span class="number">3598</span>    IN      A       <span class="number">185.199</span>.<span class="number">108.153</span></span><br><span class="line">eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.    <span class="number">3598</span>    IN      A       <span class="number">185.199</span>.<span class="number">109.153</span></span><br><span class="line">eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.    <span class="number">3598</span>    IN      A       <span class="number">185.199</span>.<span class="number">111.153</span></span><br><span class="line">eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.    <span class="number">3598</span>    IN      A       <span class="number">185.199</span>.<span class="number">110.153</span></span><br></pre></td></tr></table></figure>
<ul>
<li>IPv6</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">$ dig www<span class="selector-class">.eyunbook</span><span class="selector-class">.com</span> +noall +answer -t AAAA</span><br><span class="line">www<span class="selector-class">.eyunbook</span><span class="selector-class">.com</span>.       <span class="number">30</span>      IN      CNAME   eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.</span><br><span class="line">eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.    <span class="number">30</span>      IN      AAAA    <span class="number">2606</span>:<span class="number">50</span>c0:<span class="number">8000</span>::<span class="number">153</span></span><br><span class="line">eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.    <span class="number">30</span>      IN      AAAA    <span class="number">2606</span>:<span class="number">50</span>c0:<span class="number">8003</span>::<span class="number">153</span></span><br><span class="line">eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.    <span class="number">30</span>      IN      AAAA    <span class="number">2606</span>:<span class="number">50</span>c0:<span class="number">8002</span>::<span class="number">153</span></span><br><span class="line">eastonsun<span class="selector-class">.github</span><span class="selector-class">.io</span>.    <span class="number">30</span>      IN      AAAA    <span class="number">2606</span>:<span class="number">50</span>c0:<span class="number">8001</span>::<span class="number">153</span></span><br></pre></td></tr></table></figure>
<h2 id="自定义域名"><a href="#自定义域名" class="headerlink" title="自定义域名"></a>自定义域名</h2><ul>
<li>打开静态网站的存储库</li>
<li>点击Settings</li>
<li>在左边栏找到Code and automation，点击下方的Pages</li>
<li>在Custom domain中填入自己的域名，并勾先下方的Enforce HTTPS,此处我填写的是www的子域，这样访问顶级域名时会自动跳转到www子域</li>
</ul>
<p><img data-src="/%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AEGitHub-Pages/2.png" alt="github设置"></p>
]]></content>
      <tags>
        <tag>github pages</tag>
      </tags>
  </entry>
  <entry>
    <title>浏览器关闭QUIC协议</title>
    <url>/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%B3%E9%97%ADQUIC%E5%8D%8F%E8%AE%AE.html</url>
    <content><![CDATA[<mark class="label ">QUIC</mark>(Quick UDP Internet Connection)是一个通用的传输层网络协议，由<mark class="label info">Google</mark>公司的<mark class="label primary">Jim Roskind</mark>设计，从Chrome浏览器到Google服务器的连接中超过一半的连接都使用了QUIC，QUIC通过UDP协议在两个端点之间建立若干个多路连接，从而提高了网络连接的可靠性并能够有效的<mark>降低传输延时和避免网络拥堵</mark>。QUIC还能<mark class="label success">提高网络切换时的性能</mark>，当设备从WIFI切换到移动网络时，TCP协议会等以前的WIFI连接超时后才会和移动网建立新的连接，因而存在较高的延迟，而QUIC会包含一个<mark class="label info">标识符</mark>，这是客户端和服务器之间连接的<mark class="label primary">唯一标识</mark>，当用户IP地址发生变化时原始ID仍然有效，所以只需发送一个包含原始ID的数据包即可重新建立连接。
<p>然而在国内各大电信运营都面临着巨大的带宽压力，为了保障用户的体验，运营商们会对UDP流量进行限制，例如丢包、低先先级队列和限速等。因此就目前的国内网络环境还是<mark class="label waring">关闭QUIC协议</mark>比较好一点。<span id="more"></span></p>
<div class="tabs" id="first-tab"><ul class="nav-tabs"><li class="tab active"><a href="#first-tab-1">Chome</a></li><li class="tab"><a href="#first-tab-2">Firefox</a></li><li class="tab"><a href="#first-tab-3">Microsoft Edeg</a></li></ul><div class="tab-content"><div class="tab-pane active" id="first-tab-1"><ul>
<li>地址栏输入：chrome:&#x2F;&#x2F;flags</li>
<li>搜索框输入：quic</li>
<li>将<mark class="label info">Experimental QUIC protocol</mark>设置为<mark class="label waring">Disable</mark></li>
<li>重启浏览器<img data-src="/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%B3%E9%97%ADQUIC%E5%8D%8F%E8%AE%AE/chrome.png" class=""></li>
</ul></div><div class="tab-pane" id="first-tab-2"><ul>
<li>地址栏输入：about:config并回车</li>
<li>搜索框输入：<mark class="label info">network.http.http3.enabled</mark></li>
<li>选中布尔选项，单击+号，双击<mark class="label waring">true</mark>变成<mark>false</mark>，重启浏览器<img data-src="/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%B3%E9%97%ADQUIC%E5%8D%8F%E8%AE%AE/firefox-1.png" class=""></li>
</ul></div><div class="tab-pane" id="first-tab-3"><ul>
<li>地址栏输入：edge:&#x2F;&#x2F;flags</li>
<li>搜索框输入：<mark class="label info">Experimental QUIC protocol</mark></li>
<li>设置为<mark class="label waring">Disable</mark></li>
<li>重启浏览器<img data-src="/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%B3%E9%97%ADQUIC%E5%8D%8F%E8%AE%AE/edge.png" class=""></li>
</ul></div></div></div>]]></content>
      <tags>
        <tag>QUIC</tag>
        <tag>Chrome</tag>
        <tag>Firefox</tag>
        <tag>Microsoft Edge</tag>
      </tags>
  </entry>
</search>
